---
import { getEntry } from 'astro:content';
import FooterCTA from '@/components/footer/FooterCTA.astro';
import FooterLinks from '@/components/footer/FooterLinks.astro';
import FooterContact from '@/components/footer/FooterContact.astro';
import FooterSocial from '@/components/footer/FooterSocial.astro';

const siteConfigEntry = await getEntry('config', 'site');

if (!siteConfigEntry || !('site' in siteConfigEntry.data)) {
  throw new Error('Site configuration not found');
}

const siteConfig = siteConfigEntry.data;
const { site, contact, social } = siteConfig;
---

<footer class="bg-slate-900 text-slate-300" role="contentinfo">
  <div class="container mx-auto px-6 pb-8 pt-16 lg:px-8">
    <FooterCTA title={site.title} address={contact.address} />

    <nav
      class="grid grid-cols-1 gap-8 py-10 sm:grid-cols-2 lg:flex lg:justify-center lg:gap-16"
      aria-label="Footer navigation"
    >
      <FooterLinks />
      <FooterContact email={contact.email} phone={contact.phone} />
    </nav>

    <FooterSocial social={social} />
  </div>
</footer>
