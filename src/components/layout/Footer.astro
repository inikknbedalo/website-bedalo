---
import { getEntry } from 'astro:content';

const siteConfigEntry = await getEntry('config', 'site');

if (!siteConfigEntry || !('site' in siteConfigEntry.data)) {
  throw new Error('Site configuration not found');
}

const siteConfig = siteConfigEntry.data;
const { site, contact, social } = siteConfig;
---

<footer class="bg-slate-900 text-slate-300">
  <div class="container mx-auto px-6 pb-8 pt-16 lg:px-8">
    <div
      class="flex flex-col items-center justify-between gap-8 border-b border-slate-700 pb-10 md:flex-row"
    >
      <div class="text-center md:text-left">
        <h2 class="text-3xl font-bold text-white">{site.title}</h2>
        <p class="mt-2 max-w-md text-slate-400">
          {contact.address}
        </p>
      </div>
      <div>
        <a
          href="/kontak#aspirasi"
          data-astro-prefetch
          class="focus:ring-opacity-50 inline-block rounded-lg bg-blue-600 px-6 py-3 font-semibold text-white shadow-md transition-transform duration-300 hover:scale-105 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500"
        >
          Sampaikan Aspirasi Anda
        </a>
      </div>
    </div>

    <div
      class="grid grid-cols-1 gap-8 py-10 sm:grid-cols-2 lg:flex lg:justify-center lg:gap-16"
    >
      <div>
        <h3 class="text-base font-semibold tracking-wider text-white">Tautan Langsung</h3>
        <ul class="mt-4 space-y-3">
          <li>
            <a
              href="/kontak#kontak-perangkat"
              data-astro-prefetch
              class="transition-colors duration-300 hover:text-blue-400"
            >
              Kontak Perangkat
            </a>
          </li>
          <li>
            <a
              href="/profil#peta"
              data-astro-prefetch
              class="transition-colors duration-300 hover:text-blue-400"
            >
              Peta Wilayah
            </a>
          </li>
          <li>
            <a
              href="/galeri"
              data-astro-prefetch
              class="transition-colors duration-300 hover:text-blue-400"
            >
              Galeri
            </a>
          </li>
        </ul>
      </div>

      <div>
        <h3 class="text-base font-semibold tracking-wider text-white">Tentang Kami</h3>
        <ul class="mt-4 space-y-3">
          <li>
            <a
              href="/tentang-kkn"
              data-astro-prefetch
              class="transition-colors duration-300 hover:text-blue-400"
            >
              Tentang KKN 117
            </a>
          </li>
          <li>
            <a
              href="/peta-situs"
              data-astro-prefetch
              class="transition-colors duration-300 hover:text-blue-400"
            >
              Peta Situs
            </a>
          </li>
          <li>
            <a
              href="/kebijakan-privasi"
              data-astro-prefetch
              class="transition-colors duration-300 hover:text-blue-400"
            >
              Kebijakan Privasi
            </a>
          </li>
        </ul>
      </div>

      <div class="lg:col-span-2">
        <h3 class="text-base font-semibold tracking-wider text-white">Hubungi Kami</h3>
        <ul class="mt-4 space-y-4">
          <li class="flex items-center gap-x-3">
            <i class="fa-solid fa-envelope w-5 text-center text-slate-400"></i>
            <a
              href={`mailto:${contact.email}`}
              class="transition-colors duration-300 hover:text-blue-400"
            >
              {contact.email}
            </a>
          </li>
          <li class="flex items-center gap-x-3">
            <i class="fa-solid fa-phone w-5 text-center text-slate-400"></i>
            <span>{contact.phone}</span>
          </li>
        </ul>
      </div>
    </div>

    <div class="mt-8 border-t border-slate-700 pt-8 text-center">
      <div class="flex flex-wrap justify-center gap-x-6 gap-y-4">
        {
          social.instagram && (
            <a
              href={social.instagram}
              aria-label="Instagram"
              target="_blank"
              rel="noopener noreferrer"
              class="text-slate-400 transition-all duration-300 hover:scale-110 hover:text-blue-400"
            >
              <i class="fa-brands fa-instagram text-2xl" />
            </a>
          )
        }
        {
          social.youtube && (
            <a
              href={social.youtube}
              aria-label="YouTube"
              target="_blank"
              rel="noopener noreferrer"
              class="text-slate-400 transition-all duration-300 hover:scale-110 hover:text-blue-400"
            >
              <i class="fa-brands fa-youtube text-2xl" />
            </a>
          )
        }
        {
          social.tiktok && (
            <a
              href={social.tiktok}
              aria-label="TikTok"
              target="_blank"
              rel="noopener noreferrer"
              class="text-slate-400 transition-all duration-300 hover:scale-110 hover:text-blue-400"
            >
              <i class="fa-brands fa-tiktok text-2xl" />
            </a>
          )
        }
        {
          social.facebook && (
            <a
              href={social.facebook}
              aria-label="Facebook"
              target="_blank"
              rel="noopener noreferrer"
              class="text-slate-400 transition-all duration-300 hover:scale-110 hover:text-blue-400"
            >
              <i class="fa-brands fa-facebook text-2xl" />
            </a>
          )
        }
        {
          social.twitter && (
            <a
              href={social.twitter}
              aria-label="X (Twitter)"
              target="_blank"
              rel="noopener noreferrer"
              class="text-slate-400 transition-all duration-300 hover:scale-110 hover:text-blue-400"
            >
              <i class="fa-brands fa-twitter text-2xl" />
            </a>
          )
        }
      </div>
      <p class="mt-6 text-sm text-slate-300">
        &copy; {new Date().getFullYear()} Website {site.title} oleh Mahasiswa KKN 117 UIN Sunan
        Kalijaga Yogyakarta.
      </p>
    </div>
  </div>
</footer>
