---
import { Image } from 'astro:assets';

interface Props {
  name: string;
  major: string;
  photo: ImageMetadata;
  photoAlt: string;
  instagram?: string;
  delay?: number;
  class?: string;
}

const {
  name,
  major,
  photo,
  photoAlt,
  instagram,
  delay = 0,
  class: className = '',
} = Astro.props;
---

<div class:list={['text-center', className]} data-aos="fade-up" data-aos-delay={delay}>
  {
    instagram ? (
      <a
        href={instagram}
        target="_blank"
        rel="noopener noreferrer"
        class="group block h-full"
      >
        <div class="h-full rounded-lg bg-white p-6 shadow-lg transition-all duration-300 group-hover:-translate-y-1 group-hover:scale-[1.10] group-hover:shadow-xl">
          <Image
            src={photo}
            alt={photoAlt}
            width={128}
            height={128}
            class="mx-auto mb-4 h-32 w-32 rounded-full border-4 border-gray-200 object-cover"
          />
          <h3 class="text-lg font-bold text-gray-800">{name}</h3>
          <p class="mb-2 text-sm text-gray-500">{major}</p>
          <span class="mt-2 inline-flex items-center text-xs font-semibold text-blue-600 opacity-0 transition-opacity duration-300 group-hover:opacity-100">
            <i class="fab fa-instagram mr-1"></i> @username
          </span>
        </div>
      </a>
    ) : (
      <div class="group block h-full rounded-lg bg-white p-6 shadow-lg transition-all duration-300 hover:-translate-y-1 hover:scale-105 hover:shadow-xl">
        <Image
          src={photo}
          alt={photoAlt}
          width={128}
          height={128}
          class="mx-auto mb-4 h-32 w-32 rounded-full border-4 border-gray-200 object-cover"
        />
        <h3 class="text-lg font-bold text-gray-800">{name}</h3>
        <p class="text-sm text-gray-500">{major}</p>
      </div>
    )
  }
</div>
